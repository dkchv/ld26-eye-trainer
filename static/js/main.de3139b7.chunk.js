(this["webpackJsonpeye-trainer"]=this["webpackJsonpeye-trainer"]||[]).push([[0],{2:function(e,t,a){e.exports={root:"TrainerWord_root__3WR0y",area:"TrainerWord_area__1Ex5n",wordLetter:"TrainerWord_wordLetter__2yh6k",isActive:"TrainerWord_isActive__1f9gM",letterBG:"TrainerWord_letterBG__zPNw2",pointer:"TrainerWord_pointer__cjyvQ",placeholder:"TrainerWord_placeholder__1ZlpT",Center:"TrainerWord_Center__14gs4",Left:"TrainerWord_Left__1RctK",Right:"TrainerWord_Right__2zumw",Top:"TrainerWord_Top__3VwX1",Bottom:"TrainerWord_Bottom__1F_Nm",word:"TrainerWord_word__1AcTP",editButton:"TrainerWord_editButton__rDSeK",letters:"TrainerWord_letters__bvxxh"}},21:function(e,t,a){e.exports={root:"Layout_root__KuT-s",menu:"Layout_menu__7RCvq",content:"Layout_content__3nMgS"}},24:function(e,t,a){e.exports={root:"Menu_root__3rsq6",back:"Menu_back__3UrCW"}},35:function(e,t,a){e.exports=a(46)},40:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),c=a.n(r);a(40),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,l=a(21),s=a.n(l),u=a(3),m=a(10),f=a(14),d=a(13),p=a(24),v=a.n(p);function b(e){var t=e.title,a=Object(m.g)(),r=Object(n.useState)(!1),c=Object(u.a)(r,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){l("/"!==a.pathname)}),[a]),o.a.createElement("div",{className:"".concat(v.a.root," d-flex ai-center fg-1")},o.a.createElement("div",{className:"".concat(v.a.back," fg-0")},i&&o.a.createElement(f.a,{to:"/",className:"button-icon"},o.a.createElement(d.b,null))),o.a.createElement("div",{className:"d-flex fg-1 jc-center"},t),o.a.createElement("div",{className:"fg-0"},o.a.createElement(f.a,{to:"/settings",className:"button-icon"},o.a.createElement(d.d,null))))}function h(e){var t=e.children;return o.a.createElement("div",{className:s.a.root},o.a.createElement("div",{className:s.a.menu},o.a.createElement(b,{title:"Eye Trainer"})),o.a.createElement("div",{className:s.a.content},t))}!function(e){e.ConfigUpdate="ConfigUpdate"}(i||(i={}));var g,E,j=function(e){return function(t){return t({type:i.ConfigUpdate,payload:e})}},O=a(7);!function(e){e.RandomLetter="RandomLetter",e.LetterToMovement="LetterToMovement",e.MovementToLetter="MovementToLetter"}(E||(E={}));var _=(g={},Object(O.a)(g,E.LetterToMovement,{header:"\u0422\u0435\u043a\u0441\u0442 \u2192 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f"}),Object(O.a)(g,E.MovementToLetter,{header:"\u0414\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u2192 \u0431\u0443\u043a\u0432\u044b"}),Object(O.a)(g,E.RandomLetter,{header:"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u0431\u0443\u043a\u0432\u044b"}),g),L=a(20),T=a.n(L),y=a(5),C=function(e){return e.config};function N(){var e=Object(y.b)(),t=Object(y.c)(C),a=Object(n.useCallback)((function(t){e(j({type:t.target.value}))}),[e]),r=Object(n.useCallback)((function(t){e(j({speed:1e3*Number(t.target.value)}))}),[e]);return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row fs-small"},"\u0422\u0438\u043f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438:"),o.a.createElement("div",{className:"row"},Object.keys(E).map((function(e){var n=_[e];return o.a.createElement("div",{key:e,className:"row"},o.a.createElement("label",{className:T()("d-flex ai-center pointer",{isActive:e===t.type})},o.a.createElement("input",{className:"col-05 fg-0",checked:t.type===e,type:"radio",value:e,onChange:a,disabled:!0===n.disabled}),o.a.createElement("div",{className:"col-05 fg-1"},n.header)))})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row fs-small"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f (\u0441\u0435\u043a)"),o.a.createElement("div",{className:"row"},o.a.createElement("input",{type:"number",min:"0",max:"5",step:"0.1",value:t.speed/1e3,onChange:r}))))}var R,k=a(2),w=a.n(k);!function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom",e.Center="Center"}(R||(R={}));var B="\u0410\u0411\u0412\u0413\u0414\u0415\u0401\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042b\u042d\u042e\u042f ";var x=[[R.Top,R.Top,R.Top],[R.Bottom,R.Bottom,R.Bottom],[R.Left,R.Bottom,R.Left],[R.Left,R.Bottom,R.Right],[R.Left,R.Left,R.Top],[R.Left,R.Left,R.Bottom],[R.Left,R.Top,R.Left,R.Left],[R.Right,R.Top,R.Right],[R.Right,R.Bottom,R.Left],[R.Right,R.Bottom,R.Right],[R.Right,R.Bottom,R.Right,R.Right],[R.Right,R.Right,R.Right],[R.Top,R.Left,R.Left],[R.Top,R.Left,R.Top],[R.Left,R.Left,R.Left],[R.Top,R.Right,R.Right],[R.Top,R.Right,R.Top],[R.Top,R.Right,R.Bottom],[R.Bottom,R.Left,R.Left],[R.Bottom,R.Left,R.Top],[R.Bottom,R.Left,R.Bottom],[R.Right,R.Top,R.Left],[R.Bottom,R.Right,R.Top],[R.Top,R.Left,R.Bottom],[R.Right,R.Right,R.Bottom],[R.Left,R.Top,R.Left],[R.Left,R.Top,R.Right],[R.Left,R.Left,R.Bottom,R.Bottom],[R.Bottom,R.Right,R.Bottom],[R.Bottom,R.Right,R.Right],[R.Right,R.Right,R.Top],[R.Center,R.Center]];var W,M={letter:"?",position:R.Center},S={letter:"",position:R.Center};function A(e){if(!e)return[M];var t=[S];return Array.from(e).forEach((function(e,a){var n=function(e){if(!e)return console.warn("can't get queue for no value",e),null;var t=B.indexOf(e.toUpperCase());return-1===t?(console.warn("queue for letter not found",e),null):x[t]}(e);if(!n)return t.push({position:R.Center,letter:"?",index:a}),void t.push({position:R.Center,letter:"?",index:a});n.forEach((function(n){t.push({letter:e,position:n,index:a}),t.push({letter:e,position:R.Center,index:a})}))})),t.push(S),t}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=Array(e).fill(1).map((function(){var e=Math.floor(Math.random()*B.length);return B[e]})).join("");return A(t)}var I=(W={},Object(O.a)(W,R.Left,w.a.Left),Object(O.a)(W,R.Right,w.a.Right),Object(O.a)(W,R.Top,w.a.Top),Object(O.a)(W,R.Bottom,w.a.Bottom),Object(O.a)(W,R.Center,w.a.Center),W);function q(){var e=Object(y.c)(C),t=Object(n.useState)("\u041f\u0420\u0418\u0412\u0415\u0422"),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(u.a)(i,2),s=l[0],m=l[1],f=Object(n.useState)((function(){return A(r)})),p=Object(u.a)(f,2),v=p[0],b=p[1],h=Object(n.useState)(0),g=Object(u.a)(h,2),E=g[0],j=g[1],_=v[E],L=Object(n.useCallback)((function(){j((function(e){return(e+1)%v.length}))}),[v]);Object(n.useEffect)((function(){var t=setInterval(L,e.speed);return function(){t&&clearInterval(t)}}),[L,e]);var N=Object(n.useCallback)((function(){m(!0)}),[]),R=Object(n.useCallback)((function(){var e,t=(e=r)?Array.from(e).map((function(e){return-1===B.indexOf(e.toUpperCase())?"_":e.toUpperCase()})).join(""):"";m(!1),b(A(t)),c(t),j(0)}),[r]),k=Object(n.useCallback)((function(e){c(e.target.value)}),[]);return o.a.createElement("div",{className:w.a.root},s?o.a.createElement("div",{className:"row fg-0 text-center"},o.a.createElement("form",{onSubmit:R},o.a.createElement("input",{className:"col fs-small",type:"text",value:r,onChange:k}),o.a.createElement("div",{className:"col button-icon small",onClick:R},o.a.createElement(d.a,null)))):[o.a.createElement("div",{key:"word",className:"".concat(w.a.word," row fg-0 pointer"),onClick:N},o.a.createElement("div",{className:"col text-center"},Array.from(r).map((function(e,t){return o.a.createElement("div",{className:T()(w.a.wordLetter,Object(O.a)({},w.a.isActive,t===_.index)),key:t},e)}))),o.a.createElement("div",{className:"".concat(w.a.editButton," col button-icon small")},o.a.createElement(d.c,null))),o.a.createElement("div",{key:"area",className:"".concat(w.a.area," row fg-1")},o.a.createElement("div",{className:w.a.letterBG},_.letter),o.a.createElement("div",{className:"".concat(w.a.pointer," ").concat(I[_.position]),style:{transition:"all ".concat(e.speed,"ms")}}))])}function G(){var e=Object(y.c)(C),t=Object(n.useState)((function(){return U()})),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),l=Object(u.a)(i,2),s=l[0],m=l[1],f=r[s],d=Object(n.useCallback)((function(){var e=s+1;if(e>=r.length)return c(U()),void m(0);m(e)}),[s,r.length]);return Object(n.useEffect)((function(){var t=setInterval(d,e.speed);return function(){t&&clearInterval(t)}}),[d,e]),o.a.createElement("div",{className:w.a.root},o.a.createElement("div",{className:"".concat(w.a.area," row fg-1")},o.a.createElement("div",{className:w.a.letterBG},f.letter),o.a.createElement("div",{className:"".concat(w.a.pointer," ").concat(I[f.position]),style:{transition:"all ".concat(e.speed,"ms")}})))}var D=a(22),K=[{id:"Left",keyCode:37,symbol:"\u2190",position:R.Left},{id:"Up",keyCode:38,symbol:"\u2191",position:R.Top},{id:"Right",keyCode:39,symbol:"\u2192",position:R.Right},{id:"Bottom",keyCode:40,symbol:"\u2193",position:R.Bottom}];function z(){var e=Object(y.c)(C),t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(R.Center),l=Object(u.a)(i,2),s=l[0],m=l[1],f=Object(n.useState)([]),d=Object(u.a)(f,2),p=d[0],v=d[1],b=Object(n.useState)(null),h=Object(u.a)(b,2),g=h[0],E=h[1],j=Object(n.useCallback)((function(t){g&&clearTimeout(g),m(t);var a=setTimeout((function(){return m(R.Center)}),e.speed/2);E(a)}),[g,e.speed]),O=Object(n.useCallback)((function(e){var t=[].concat(Object(D.a)(p),[e]);j(e.position);var a=function(e){if(e.length<3||e.length>4)return null;var t=x.findIndex((function(t){return t.every((function(t,a){return t===e[a]}))}));return-1===t?null:B[t]}(t.map((function(e){return e.position})));if(a){var n=r.length>15?["..."].concat(Object(D.a)(r.splice(-5)),[a]):[].concat(Object(D.a)(r),[a]);c(n),v([])}else t.length>3?v([]):v(t)}),[r,p]),_=Object(n.useCallback)((function(e){if(27!==e.keyCode){var t=K.find((function(t){return t.keyCode===e.keyCode}));t&&O(t)}else p.length>0?v([]):c([])}),[p,O]),L=Object(n.useCallback)((function(e){O(K.find((function(t){return t.position===e})))}),[O]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",_),function(){return window.removeEventListener("keydown",_)}}),[_]),o.a.createElement("div",{className:w.a.root},o.a.createElement("div",{className:"".concat(w.a.letters," row fg-0 d-flex ai-center")},0===r.length&&0===p.length&&o.a.createElement("div",{className:"color-gray fs-small"},"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f"),r.map((function(e,t){return o.a.createElement("div",{key:"".concat(e,"-").concat(t)},e)})),p.map((function(e,t){return o.a.createElement("div",{className:"color-blue fs-big",key:"".concat(e.id,"-").concat(t)},e.symbol)}))),o.a.createElement("div",{className:"".concat(w.a.area," row fg-1")},o.a.createElement("div",{className:"".concat(w.a.placeholder," \n          ").concat(I[R.Top]),onClick:function(){return L(R.Top)}}),o.a.createElement("div",{className:"".concat(w.a.placeholder," \n          ").concat(I[R.Left]),onClick:function(){return L(R.Left)}}),o.a.createElement("div",{className:"".concat(w.a.placeholder," \n          ").concat(I[R.Right]),onClick:function(){return L(R.Right)}}),o.a.createElement("div",{className:"".concat(w.a.placeholder," \n          ").concat(I[R.Bottom]),onClick:function(){return L(R.Bottom)}}),o.a.createElement("div",{className:"".concat(w.a.pointer," \n          ").concat(I[s]),style:{transition:"all ".concat(e.speed/2,"ms")}})))}function J(){switch(Object(y.c)(C).type){case E.LetterToMovement:return o.a.createElement(q,null);case E.MovementToLetter:return o.a.createElement(z,null);case E.RandomLetter:return o.a.createElement(G,null);default:return o.a.createElement(q,null)}}function P(){return o.a.createElement(m.d,null,o.a.createElement(m.b,{path:"/settings",component:N}),o.a.createElement(m.b,{path:"*",component:J}))}var F=a(11),Q=a(33),V=a(34),X=a(28),Z={type:E.MovementToLetter,speed:600};var $={config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.ConfigUpdate:return Object(X.a)(Object(X.a)({},e),t.payload);default:return e}}},H=Object(F.createStore)(Object(F.combineReducers)($),Object(Q.composeWithDevTools)(Object(F.applyMiddleware)(V.a)));function Y(){return o.a.createElement(y.a,{store:H},o.a.createElement(m.a,null,o.a.createElement(h,null,o.a.createElement(P,null))))}console.log("LD26 Eye trainer version:","0.1.3"),c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.de3139b7.chunk.js.map